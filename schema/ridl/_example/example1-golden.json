{
    "webrpc": "v2",
    "name": "hello-webrpc",
    "version": "v0.0.1",
    "imports": [
        {
            "path": "example1-definitions.ridl",
            "members": []
        },
        {
            "path": "example1-partials.ridl",
            "members": [
                "Empty",
                "GetUserRequest"
            ]
        }
    ],
    "types": [
        {
            "kind": "enum",
            "name": "Kind",
            "type": "uint32",
            "fields": [
                {
                    "name": "USER",
                    "optional": false,
                    "value": "1"
                },
                {
                    "name": "ADMIN",
                    "optional": false,
                    "value": "2"
                }
            ]
        },
        {
            "kind": "enum",
            "name": "Kind2",
            "type": "uint32",
            "fields": [
                {
                    "name": "USER",
                    "optional": false,
                    "value": "0"
                },
                {
                    "name": "ADMIN",
                    "optional": false,
                    "value": "1"
                }
            ]
        },
        {
            "kind": "struct",
            "name": "Empty"
        },
        {
            "kind": "struct",
            "name": "GetUserRequest",
            "fields": [
                {
                    "name": "userID",
                    "type": "uint64",
                    "optional": false
                }
            ]
        },
        {
            "kind": "struct",
            "name": "Role",
            "fields": [
                {
                    "name": "name",
                    "type": "string",
                    "optional": false
                },
                {
                    "name": "users",
                    "type": "map<uint64,User>",
                    "optional": false
                },
                {
                    "name": "perms",
                    "type": "[]string",
                    "optional": false
                },
                {
                    "name": "other",
                    "type": "map<uint64,map<string,string>>",
                    "optional": false
                }
            ]
        },
        {
            "kind": "struct",
            "name": "User",
            "fields": [
                {
                    "name": "ID",
                    "type": "uint64",
                    "optional": false,
                    "meta": [
                        {
                            "json": "id"
                        },
                        {
                            "go.tag.db": "id"
                        }
                    ]
                },
                {
                    "name": "username",
                    "type": "string",
                    "optional": false,
                    "meta": [
                        {
                            "json": "USERNAME"
                        },
                        {
                            "go.tag.db": "username"
                        }
                    ]
                },
                {
                    "name": "amount",
                    "type": "balance",
                    "optional": false
                },
                {
                    "name": "role",
                    "type": "string",
                    "optional": false,
                    "meta": [
                        {
                            "go.tag.db": "-"
                        }
                    ]
                },
                {
                    "name": "createdAt",
                    "type": "timestamp",
                    "optional": true,
                    "meta": [
                        {
                            "json": "created_at"
                        },
                        {
                            "go.tag.json": "created_at,omitempty"
                        },
                        {
                            "go.tag.db": "created_at"
                        }
                    ]
                }
            ]
        },
        {
            "kind": "struct",
            "name": "Notice",
            "fields": [
                {
                    "name": "msg",
                    "type": "string",
                    "optional": false
                }
            ]
        },
        {
            "kind": "type",
            "name": "balance",
            "type": "string",
            "optional": false,
            "meta": [
                {
                    "go.field.type": "BigInt"
                },
                {
                    "go.tag.db": "balance"
                }
            ]
        }
    ],
    "services": [
        {
            "name": "PingerService",
            "methods": [
                {
                    "name": "Ping",
                    "inputs": [],
                    "outputs": [
                        {
                            "name": "status",
                            "type": "bool",
                            "optional": false
                        }
                    ]
                }
            ]
        },
        {
            "name": "ExampleService",
            "methods": [
                {
                    "name": "Ping",
                    "inputs": [],
                    "outputs": [
                        {
                            "name": "status",
                            "type": "bool",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "GetUser",
                    "inputs": [
                        {
                            "name": "req",
                            "type": "GetUserRequest",
                            "optional": false
                        }
                    ],
                    "outputs": [
                        {
                            "name": "user",
                            "type": "User",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "Recv",
                    "streamInput": true,
                    "inputs": [
                        {
                            "name": "req",
                            "type": "string",
                            "optional": false
                        }
                    ],
                    "outputs": []
                },
                {
                    "name": "Send",
                    "streamInput": true,
                    "inputs": [],
                    "outputs": [
                        {
                            "name": "resp",
                            "type": "string",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "SendAndRecv",
                    "streamInput": true,
                    "streamOutput": true,
                    "inputs": [
                        {
                            "name": "req",
                            "type": "string",
                            "optional": false
                        }
                    ],
                    "outputs": [
                        {
                            "name": "resp",
                            "type": "string",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "Broadcast",
                    "streamOutput": true,
                    "inputs": [
                        {
                            "name": "qty",
                            "type": "balance",
                            "optional": true
                        }
                    ],
                    "outputs": [
                        {
                            "name": "resp",
                            "type": "Notice",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "VerifyUsers",
                    "inputs": [
                        {
                            "name": "seq",
                            "type": "int32",
                            "optional": false
                        },
                        {
                            "name": "header",
                            "type": "map<string,[]string>",
                            "optional": true
                        },
                        {
                            "name": "ids",
                            "type": "[]uint64",
                            "optional": false
                        }
                    ],
                    "outputs": [
                        {
                            "name": "code",
                            "type": "bool",
                            "optional": false
                        },
                        {
                            "name": "ids",
                            "type": "[]bool",
                            "optional": false
                        }
                    ]
                },
                {
                    "name": "MoreTest",
                    "inputs": [
                        {
                            "name": "n",
                            "type": "uint64",
                            "optional": false
                        },
                        {
                            "name": "stuff",
                            "type": "[]map<uint64,string>",
                            "optional": false
                        },
                        {
                            "name": "etc",
                            "type": "string",
                            "optional": false
                        }
                    ],
                    "outputs": [
                        {
                            "name": "code",
                            "type": "bool",
                            "optional": true
                        }
                    ]
                }
            ]
        }
    ]
}
